# üß™ E2E Testing Suite - ConsciousFunnels

–ü–æ–ª–Ω–æ—Ü–µ–Ω–Ω—ã–π –Ω–∞–±–æ—Ä end-to-end —Ç–µ—Å—Ç–æ–≤ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º Playwright –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö –ø—É—Ç–µ–π.

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ç–µ—Å—Ç–æ–≤

```
tests/
‚îú‚îÄ‚îÄ e2e/                    # E2E —Ç–µ—Å—Ç—ã (Playwright)
‚îÇ   ‚îú‚îÄ‚îÄ auth.spec.ts       # –¢–µ—Å—Ç—ã –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏
‚îÇ   ‚îú‚îÄ‚îÄ dashboard.spec.ts  # –¢–µ—Å—Ç—ã dashboard
‚îÇ   ‚îú‚îÄ‚îÄ api.spec.ts        # –¢–µ—Å—Ç—ã API endpoints
‚îÇ   ‚îî‚îÄ‚îÄ ui.spec.ts         # –¢–µ—Å—Ç—ã UI/UX
‚îî‚îÄ‚îÄ smoke.spec.ts          # –ë–∞–∑–æ–≤—ã–µ smoke —Ç–µ—Å—Ç—ã (Jest)
```

## üöÄ –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤

### –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
```bash
cd apps/web
npm install
```

### –ó–∞–ø—É—Å–∫ –≤—Å–µ—Ö E2E —Ç–µ—Å—Ç–æ–≤
```bash
npm run test:e2e
```

### –ó–∞–ø—É—Å–∫ —Å UI —Ä–µ–∂–∏–º–æ–º (–¥–ª—è –æ—Ç–ª–∞–¥–∫–∏)
```bash
npm run test:e2e:ui
```

### –ó–∞–ø—É—Å–∫ –≤ headless —Ä–µ–∂–∏–º–µ —Å –±—Ä–∞—É–∑–µ—Ä–æ–º
```bash
npm run test:e2e:headed
```

### –û—Ç–ª–∞–¥–∫–∞ —Ç–µ—Å—Ç–æ–≤
```bash
npm run test:e2e:debug
```

### –ó–∞–ø—É—Å–∫ –≤—Å–µ—Ö —Ç–µ—Å—Ç–æ–≤ (unit + E2E)
```bash
npm run test:all
```

## üéØ –ü–æ–∫—Ä—ã—Ç–∏–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

### üîê **Authentication Tests** (`auth.spec.ts`)
- ‚úÖ Landing page –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ
- ‚úÖ –ù–∞–≤–∏–≥–∞—Ü–∏—è –∫ —Å—Ç—Ä–∞–Ω–∏—Ü–∞–º –≤—Ö–æ–¥–∞/—Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏
- ‚úÖ –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –Ω–æ–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- ‚úÖ –í—Ö–æ–¥ –≤ —Å–∏—Å—Ç–µ–º—É
- ‚úÖ –°–±—Ä–æ—Å –ø–∞—Ä–æ–ª—è
- ‚úÖ –§–æ—Ä–º—ã –≤–∞–ª–∏–¥–∞—Ü–∏–∏

### üìä **Dashboard Tests** (`dashboard.spec.ts`)
- ‚úÖ –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ dashboard —Å –º–µ—Ç—Ä–∏–∫–∞–º–∏
- ‚úÖ –ù–∞–≤–∏–≥–∞—Ü–∏—è –∫ —Ä–∞–∑–¥–µ–ª–∞–º –ø—Ä–æ–¥—É–∫—Ç–æ–≤/–∞–Ω–∞–ª–∏—Ç–∏–∫–∏
- ‚úÖ –≠–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ –≥—Ä–∞—Ñ–∏–∫–∏ –∏ –¥–∏–∞–≥—Ä–∞–º–º—ã
- ‚úÖ AI –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏—è –∏ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

### üîå **API Tests** (`api.spec.ts`)
- ‚úÖ Health endpoint –ø—Ä–æ–≤–µ—Ä–∫–∞
- ‚úÖ Products API CRUD –æ–ø–µ—Ä–∞—Ü–∏–∏
- ‚úÖ Authentication endpoints
- ‚úÖ Emotion tracking API
- ‚úÖ Analytics insights API

### üé® **UI/UX Tests** (`ui.spec.ts`)
- ‚úÖ Responsive design (desktop/tablet/mobile)
- ‚úÖ Loading —Å–æ—Å—Ç–æ—è–Ω–∏—è
- ‚úÖ –ù–∞–≤–∏–≥–∞—Ü–∏—è –∏ —Å—Å—ã–ª–∫–∏
- ‚úÖ –§–æ—Ä–º—ã –≤–∞–ª–∏–¥–∞—Ü–∏–∏
- ‚úÖ Error handling (404)
- ‚úÖ Accessibility (alt text, heading hierarchy)

## üîß –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

### Playwright Config
- **Base URL**: `http://localhost:3000`
- **Browsers**: Chrome, Firefox, Safari, Mobile Chrome, Mobile Safari
- **Parallel**: –î–∞ (–∫—Ä–æ–º–µ CI)
- **Retries**: 2 –Ω–∞ CI, 0 –ª–æ–∫–∞–ª—å–Ω–æ
- **Screenshots**: –¢–æ–ª—å–∫–æ –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö
- **Videos**: –°–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö
- **Traces**: –ü—Ä–∏ retry

### Web Server
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–ø—É—Å–∫–∞–µ—Ç `npm run dev` –ø–µ—Ä–µ–¥ —Ç–µ—Å—Ç–∞–º–∏
- –ü–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π —Å–µ—Ä–≤–µ—Ä (–µ—Å–ª–∏ –¥–æ—Å—Ç—É–ø–µ–Ω)
- –¢–∞–π–º–∞—É—Ç: 120 —Å–µ–∫—É–Ω–¥

## üìä –û—Ç—á–µ—Ç—ã –∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã

### HTML Report
–ü–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ —Ç–µ—Å—Ç–æ–≤ –æ—Ç–∫—Ä–æ–π—Ç–µ `playwright-report/index.html` –¥–ª—è –¥–µ—Ç–∞–ª—å–Ω–æ–≥–æ –æ—Ç—á–µ—Ç–∞.

### JSON Results
```bash
test-results/e2e-results.json
```

### JUnit XML
```bash
test-results/e2e-results.xml
```

## üêõ –û—Ç–ª–∞–¥–∫–∞

### –ó–∞–ø—É—Å–∫ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —Ç–µ—Å—Ç–∞
```bash
npx playwright test auth.spec.ts
```

### –ó–∞–ø—É—Å–∫ —Å —Ñ–∏–ª—å—Ç—Ä–æ–º
```bash
npx playwright test --grep "login"
```

### –®–∞–≥ –∑–∞ —à–∞–≥–æ–º
```bash
npx playwright test --debug
```

### UI —Ä–µ–∂–∏–º
```bash
npx playwright test --ui
```

## üîç –ß—Ç–æ —Ç–µ—Å—Ç–∏—Ä—É–µ—Ç—Å—è

### –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ –ø—É—Ç–∏:
1. **–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è** ‚Üí **–í—Ö–æ–¥** ‚Üí **Dashboard**
2. **–ù–∞–≤–∏–≥–∞—Ü–∏—è** –º–µ–∂–¥—É —Ä–∞–∑–¥–µ–ª–∞–º–∏
3. **–°–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–æ–¥—É–∫—Ç–æ–≤**
4. **–ü—Ä–æ—Å–º–æ—Ç—Ä –∞–Ω–∞–ª–∏—Ç–∏–∫–∏**
5. **Responsive –ø–æ–≤–µ–¥–µ–Ω–∏–µ**

### API –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è:
1. **Authentication** (login/register/forgot-password)
2. **Products CRUD** (create/read/update/delete)
3. **Emotion tracking** (POST events)
4. **Analytics** (GET insights)

### UI/UX –∞—Å–ø–µ–∫—Ç—ã:
1. **Responsive design** –Ω–∞ –≤—Å–µ—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö
2. **Loading states** –∏ error handling
3. **Form validation** –∏ user feedback
4. **Accessibility** compliance
5. **Navigation** –∏ link behavior

## üéØ –ö—Ä–∏—Ç–µ—Ä–∏–∏ —É—Å–ø–µ—Ö–∞

### ‚úÖ **–¢–µ—Å—Ç—ã —Å—á–∏—Ç–∞—é—Ç—Å—è –ø—Ä–æ–π–¥–µ–Ω–Ω—ã–º–∏, –µ—Å–ª–∏:**
- –í—Å–µ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –ø—É—Ç–∏ —Ä–∞–±–æ—Ç–∞—é—Ç –±–µ–∑ –æ—à–∏–±–æ–∫
- UI –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –Ω–∞ –≤—Å–µ—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö
- API endpoints –æ—Ç–≤–µ—á–∞—é—Ç –ø—Ä–∞–≤–∏–ª—å–Ω–æ
- –ù–µ—Ç JavaScript –æ—à–∏–±–æ–∫ –≤ –∫–æ–Ω—Å–æ–ª–∏
- –í—Å–µ —Ñ–æ—Ä–º—ã –≤–∞–ª–∏–¥–∏—Ä—É—é—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ

### üö® **–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –æ—à–∏–±–∫–∏:**
- –°—Ç—Ä–∞–Ω–∏—Ü—ã –Ω–µ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è
- –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç
- Dashboard –Ω–µ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ
- API –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç 500 –æ—à–∏–±–∫–∏
- JavaScript –æ—à–∏–±–∫–∏ –≤ –∫–æ–Ω—Å–æ–ª–∏

## üîÑ CI/CD –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è

### GitHub Actions
```yaml
- name: Install dependencies
  run: npm ci

- name: Run E2E tests
  run: npm run test:e2e
```

### –†–µ–∑—É–ª—å—Ç–∞—Ç—ã
- ‚úÖ **–ü—Ä–æ—Ö–æ–¥—è—Ç –≤—Å–µ —Ç–µ—Å—Ç—ã** –Ω–∞ CI
- ‚úÖ **HTML –æ—Ç—á–µ—Ç** –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è
- ‚úÖ **JUnit XML** –¥–ª—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏
- ‚úÖ **Screenshots** –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö

## üõ†Ô∏è –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤

### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ–≥–æ —Ç–µ—Å—Ç–∞
```typescript
test('should handle user profile', async ({ page }) => {
  await page.goto('/profile');
  await expect(page.locator('h1')).toContainText('Profile');
});
```

### –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–≥–æ spec —Ñ–∞–π–ª–∞
```bash
touch tests/e2e/new-feature.spec.ts
```

## üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ü—Ä–∏ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏–∏ –ø—Ä–æ–±–ª–µ–º —Å —Ç–µ—Å—Ç–∞–º–∏:
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ —Å–µ—Ä–≤–µ—Ä –∑–∞–ø—É—â–µ–Ω (`npm run dev`)
2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—Å–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –≤ —Ç–µ—Ä–º–∏–Ω–∞–ª–µ
4. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `--debug` —Ä–µ–∂–∏–º –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏

---

**üéâ E2E —Ç–µ—Å—Ç—ã –≥–æ—Ç–æ–≤—ã –∫ –∑–∞–ø—É—Å–∫—É –∏ –ø–æ–∫—Ä—ã–≤–∞—é—Ç –≤—Å–µ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏ –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã!**
