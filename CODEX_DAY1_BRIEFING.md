# ğŸš€ GPT-5 Codex - Day 1 Mission Briefing

**Ğ”Ğ°Ñ‚Ğ°:** 2025-09-29  
**Ğ’Ğ°ÑˆĞ° Ñ€Ğ¾Ğ»ÑŒ:** Backend Developer #1 (Lead)  
**ĞŸÑ€Ğ¾ĞµĞºÑ‚:** NEXUS.SALES (ConsciousFunnels)  
**ĞœĞ¸ÑÑĞ¸Ñ:** Database Foundation - Fire 3, Day 1  
**ĞŸÑ€Ğ¸Ğ¾Ñ€Ğ¸Ñ‚ĞµÑ‚:** ğŸ”´ ĞšĞ Ğ˜Ğ¢Ğ˜Ğ§Ğ•Ğ¡ĞšĞ˜Ğ™ (Ğ²Ñ‹ Ğ±Ğ»Ğ¾ĞºĞ¸Ñ€ÑƒĞµÑ‚Ğµ Ğ²ÑÑ ĞºĞ¾Ğ¼Ğ°Ğ½Ğ´Ñƒ!)

---

## ğŸ¯ **Ğ’ĞĞ¨Ğ ĞœĞ˜Ğ¡Ğ¡Ğ˜Ğ¯ (Day 1)**

> **"Ğ¡Ğ¾Ğ·Ğ´Ğ°Ñ‚ÑŒ solid database foundation, ĞºĞ¾Ñ‚Ğ¾Ñ€Ğ°Ñ ÑÑ‚Ğ°Ğ½ĞµÑ‚ Ñ„ÑƒĞ½Ğ´Ğ°Ğ¼ĞµĞ½Ñ‚Ğ¾Ğ¼ Ğ´Ğ»Ñ Ğ²ÑĞµĞ³Ğ¾ Ğ¿Ñ€Ğ¾ĞµĞºÑ‚Ğ°"**

**ĞŸĞ¾Ñ‡ĞµĞ¼Ñƒ Ğ²Ñ‹ Ğ¿ĞµÑ€Ğ²Ñ‹Ğ¹:**
- âœ… Ğ’Ñ‹ Ğ»ÑƒÑ‡ÑˆĞ¸Ğ¹ code generator Ğ² ĞºĞ¾Ğ¼Ğ°Ğ½Ğ´Ğµ
- âœ… Backend = ĞºÑ€Ğ¸Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ¸Ğ¹ Ğ¿ÑƒÑ‚ÑŒ Ğ´Ğ»Ñ Ğ²ÑĞµÑ…
- âœ… Ğ‘Ğ°Ğ·Ğ° Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ… Ğ±Ğ»Ğ¾ĞºĞ¸Ñ€ÑƒĞµÑ‚ Frontend, AI/ML, QA
- âœ… Ğ‘ĞµĞ· Ğ²Ğ°ÑˆĞµĞ¹ Ñ€Ğ°Ğ±Ğ¾Ñ‚Ñ‹ Ğ½Ğ¸ĞºÑ‚Ğ¾ Ğ½Ğµ Ğ¼Ğ¾Ğ¶ĞµÑ‚ Ğ¿Ñ€Ğ¾Ğ´Ğ¾Ğ»Ğ¶Ğ¸Ñ‚ÑŒ

**Ğ§Ñ‚Ğ¾ Ğ·Ğ°Ğ²Ğ¸ÑĞ¸Ñ‚ Ğ¾Ñ‚ Ğ²Ğ°Ñ:**
- ğŸŸ¢ Qwen (Frontend) Ğ¶Ğ´Ñ‘Ñ‚ API endpoints (Day 2)
- ğŸŸ¡ Gemini (AI/ML) Ğ½ÑƒĞ¶Ğ½Ğ° Ğ±Ğ°Ğ·Ğ° Ğ´Ğ»Ñ Redis cache (Day 3)
- ğŸ”´ GPT-5 High (DevOps) Ğ½ÑƒĞ¶Ğ½Ğ° Ğ±Ğ°Ğ·Ğ° Ğ´Ğ»Ñ Ğ´ĞµĞ¿Ğ»Ğ¾Ñ (Day 2)
- ğŸŸ  Grok (QA) Ğ½ÑƒĞ¶Ğ½Ñ‹ endpoints Ğ´Ğ»Ñ Ñ‚ĞµÑÑ‚Ğ¾Ğ² (Day 4)

**Ğ”Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ğµ:** ĞĞ•Ğ¢! Ğ£ Ğ²Ğ°Ñ Ñ†ĞµĞ»Ñ‹Ğ¹ Ğ´ĞµĞ½ÑŒ, Claude Code Ğ²ÑĞµĞ³Ğ´Ğ° Ñ€ÑĞ´Ğ¾Ğ¼ Ğ´Ğ»Ñ Ğ¿Ğ¾Ğ¼Ğ¾Ñ‰Ğ¸.

---

## ğŸ“‹ **Ğ”Ğ•Ğ¢ĞĞ›Ğ¬ĞĞ«Ğ™ ĞŸĞ›ĞĞ Day 1**

### **MORNING SESSION (09:00-12:30)**

#### **09:00-09:30: ğŸ”¥ KICKOFF & UNDERSTANDING**
```
â–¡ ĞŸÑ€Ğ¾Ñ‡Ğ¸Ñ‚Ğ°Ñ‚ÑŒ ÑÑ‚Ğ¾Ñ‚ briefing Ğ¿Ğ¾Ğ»Ğ½Ğ¾ÑÑ‚ÑŒÑ
â–¡ Review Ñ‚ĞµĞºÑƒÑ‰Ğ¸Ğ¹ ĞºĞ¾Ğ´ In-Memory DB:
  Ğ¤Ğ°Ğ¹Ğ»: apps/web/src/app/api/auth/lib/db.ts
  
  Ğ¢ĞµĞºÑƒÑ‰Ğ°Ñ ÑÑ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ğ°:
  - Map<string, MockUser> Ğ´Ğ»Ñ users
  - Map<number, MockProduct> Ğ´Ğ»Ñ products
  - Map<number, MockOrder> Ğ´Ğ»Ñ orders
  
â–¡ ĞŸĞ¾Ğ½ÑÑ‚ÑŒ Ñ‚Ñ€ĞµĞ±Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ:
  - ĞÑƒĞ¶Ğ½Ğ° Ğ¿ĞµÑ€ÑĞ¸ÑÑ‚ĞµĞ½Ñ‚Ğ½Ğ°Ñ Ğ±Ğ°Ğ·Ğ° (Ğ½Ğµ Ğ² Ğ¿Ğ°Ğ¼ÑÑ‚Ğ¸)
  - PostgreSQL Ğ´Ğ»Ñ production
  - SQLite Ğ´Ğ»Ñ development (Ğ¾Ğ¿Ñ†Ğ¸Ğ¾Ğ½Ğ°Ğ»ÑŒĞ½Ğ¾)
  - ĞœĞ¸Ğ³Ñ€Ğ°Ñ†Ğ¸Ğ¸ Ğ´Ğ»Ñ Ğ²ĞµÑ€ÑĞ¸Ğ¾Ğ½Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ
  - Seed data Ğ´Ğ»Ñ Ñ‚ĞµÑÑ‚Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ

â–¡ Ğ’Ğ¾Ğ¿Ñ€Ğ¾ÑÑ‹ Ğº Claude Code (ĞµÑĞ»Ğ¸ ĞµÑÑ‚ÑŒ)
```

#### **09:30-11:00: ğŸ”¥ DATABASE SCHEMA DESIGN**
```
Ğ—Ğ°Ğ´Ğ°Ñ‡Ğ°: Ğ¡Ğ¿Ñ€Ğ¾ĞµĞºÑ‚Ğ¸Ñ€Ğ¾Ğ²Ğ°Ñ‚ÑŒ Ğ¿Ğ¾Ğ»Ğ½ÑƒÑ ÑÑ…ĞµĞ¼Ñƒ Ğ±Ğ°Ğ·Ñ‹ Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ…

Ğ¢ĞĞ‘Ğ›Ğ˜Ğ¦Ğ 1: users
------------------------------------------
id            UUID          PRIMARY KEY
email         VARCHAR(255)  UNIQUE NOT NULL
password_hash VARCHAR(255)  NOT NULL
created_at    TIMESTAMP     DEFAULT NOW()
updated_at    TIMESTAMP     DEFAULT NOW()

INDEXES:
- users_email_idx ON users(email)

Ğ¢ĞĞ‘Ğ›Ğ˜Ğ¦Ğ 2: products
------------------------------------------
id          UUID          PRIMARY KEY
user_id     UUID          FOREIGN KEY â†’ users(id) ON DELETE CASCADE
name        VARCHAR(255)  NOT NULL
description TEXT
price       INTEGER       NOT NULL  -- Ğ² Ñ†ĞµĞ½Ñ‚Ğ°Ñ… (4999 = $49.99)
active      BOOLEAN       DEFAULT true
created_at  TIMESTAMP     DEFAULT NOW()
updated_at  TIMESTAMP     DEFAULT NOW()

INDEXES:
- products_user_id_idx ON products(user_id)
- products_active_idx ON products(active)

CONSTRAINTS:
- CHECK (price >= 0)

Ğ¢ĞĞ‘Ğ›Ğ˜Ğ¦Ğ 3: orders
------------------------------------------
id         UUID          PRIMARY KEY
product_id UUID          FOREIGN KEY â†’ products(id)
email      VARCHAR(255)  NOT NULL
name       VARCHAR(255)
status     VARCHAR(50)   NOT NULL  -- 'created'|'processing'|'paid'|'refunded'|'cancelled'
amount     INTEGER       NOT NULL
created_at TIMESTAMP     DEFAULT NOW()

INDEXES:
- orders_email_idx ON orders(email)
- orders_status_idx ON orders(status)
- orders_created_at_idx ON orders(created_at)

CONSTRAINTS:
- CHECK (status IN ('created', 'processing', 'paid', 'refunded', 'cancelled'))
- CHECK (amount >= 0)

Ğ¢ĞĞ‘Ğ›Ğ˜Ğ¦Ğ 4: funnels (ĞĞĞ’ĞĞ¯!)
------------------------------------------
id         UUID          PRIMARY KEY
user_id    UUID          FOREIGN KEY â†’ users(id) ON DELETE CASCADE
name       VARCHAR(255)  NOT NULL
config     JSONB         NOT NULL  -- Ğ¿Ğ¾Ğ»Ğ½Ğ°Ñ ĞºĞ¾Ğ½Ñ„Ğ¸Ğ³ÑƒÑ€Ğ°Ñ†Ğ¸Ñ Ğ²Ğ¾Ñ€Ğ¾Ğ½ĞºĞ¸
published  BOOLEAN       DEFAULT false
created_at TIMESTAMP     DEFAULT NOW()
updated_at TIMESTAMP     DEFAULT NOW()

INDEXES:
- funnels_user_id_idx ON funnels(user_id)
- funnels_published_idx ON funnels(published)

Ğ¢ĞĞ‘Ğ›Ğ˜Ğ¦Ğ 5: emotions (ĞĞĞ’ĞĞ¯!)
------------------------------------------
id           UUID          PRIMARY KEY
user_id      UUID          FOREIGN KEY â†’ users(id) ON DELETE SET NULL (nullable)
funnel_id    UUID          FOREIGN KEY â†’ funnels(id) ON DELETE CASCADE
session_id   VARCHAR(255)  NOT NULL
emotion_type VARCHAR(50)   NOT NULL  -- 'joy'|'sadness'|'fear'|'anger'|'surprise'|'disgust'|'neutral'
intensity    DECIMAL(3,2)  NOT NULL  -- 0.00 to 1.00
confidence   DECIMAL(3,2)  NOT NULL  -- 0.00 to 1.00
context      JSONB                   -- Ğ´Ğ¾Ğ¿Ğ¾Ğ»Ğ½Ğ¸Ñ‚ĞµĞ»ÑŒĞ½Ñ‹Ğ¹ ĞºĞ¾Ğ½Ñ‚ĞµĞºÑÑ‚
created_at   TIMESTAMP     DEFAULT NOW()

INDEXES:
- emotions_funnel_id_idx ON emotions(funnel_id)
- emotions_session_id_idx ON emotions(session_id)
- emotions_created_at_idx ON emotions(created_at)
- emotions_emotion_type_idx ON emotions(emotion_type)

CONSTRAINTS:
- CHECK (intensity >= 0 AND intensity <= 1)
- CHECK (confidence >= 0 AND confidence <= 1)
- CHECK (emotion_type IN ('joy', 'sadness', 'fear', 'anger', 'surprise', 'disgust', 'neutral'))

Deliverable:
âœ… Ğ¡Ğ¾Ğ·Ğ´Ğ°Ñ‚ÑŒ Ñ„Ğ°Ğ¹Ğ»: docs/database-schema.md
âœ… Ğ”Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚Ğ¸Ñ€Ğ¾Ğ²Ğ°Ñ‚ÑŒ Ğ²ÑĞµ Ñ‚Ğ°Ğ±Ğ»Ğ¸Ñ†Ñ‹
âœ… ĞĞ±ÑŠÑÑĞ½Ğ¸Ñ‚ÑŒ ÑĞ²ÑĞ·Ğ¸ Ğ¼ĞµĞ¶Ğ´Ñƒ Ñ‚Ğ°Ğ±Ğ»Ğ¸Ñ†Ğ°Ğ¼Ğ¸
âœ… ĞŸĞ¾ĞºĞ°Ğ·Ğ°Ñ‚ÑŒ Claude Code Ğ´Ğ»Ñ review
```

#### **11:00-12:30: ğŸ”¥ POSTGRESQL SETUP**
```
Ğ—Ğ°Ğ´Ğ°Ñ‡Ğ°: ĞĞ°ÑÑ‚Ñ€Ğ¾Ğ¸Ñ‚ÑŒ PostgreSQL Ğ»Ğ¾ĞºĞ°Ğ»ÑŒĞ½Ğ¾

Ğ¨Ğ°Ğ³ 1: Install PostgreSQL (ĞµÑĞ»Ğ¸ Ğ½ĞµÑ‚)
- Windows: https://www.postgresql.org/download/windows/
- Ğ˜Ğ»Ğ¸ Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ÑŒ Docker:
  docker run --name nexus-postgres -e POSTGRES_PASSWORD=postgres -p 5432:5432 -d postgres

Ğ¨Ğ°Ğ³ 2: Create Database
psql -U postgres
CREATE DATABASE nexus_sales_dev;
CREATE USER nexus_dev WITH PASSWORD 'dev_password';
GRANT ALL PRIVILEGES ON DATABASE nexus_sales_dev TO nexus_dev;
\q

Ğ¨Ğ°Ğ³ 3: Setup Connection Pool
Ğ¡Ğ¾Ğ·Ğ´Ğ°Ñ‚ÑŒ Ñ„Ğ°Ğ¹Ğ»: apps/web/src/lib/db.ts

import { Pool } from 'pg';

const pool = new Pool({
  connectionString: process.env.DATABASE_URL || 
    'postgresql://nexus_dev:dev_password@localhost:5432/nexus_sales_dev',
  max: 20,
  idleTimeoutMillis: 30000,
  connectionTimeoutMillis: 2000,
});

pool.on('error', (err) => {
  console.error('Unexpected error on idle client', err);
  process.exit(-1);
});

export async function query(text: string, params?: any[]) {
  const start = Date.now();
  try {
    const res = await pool.query(text, params);
    const duration = Date.now() - start;
    console.log('Executed query', { text, duration, rows: res.rowCount });
    return res;
  } catch (error) {
    console.error('Query error', { text, error });
    throw error;
  }
}

export async function getClient() {
  const client = await pool.connect();
  return client;
}

export async function healthCheck() {
  try {
    const result = await query('SELECT NOW()');
    return { healthy: true, timestamp: result.rows[0].now };
  } catch (error) {
    return { healthy: false, error: (error as Error).message };
  }
}

export default pool;

Ğ¨Ğ°Ğ³ 4: Environment Variables
Ğ¡Ğ¾Ğ·Ğ´Ğ°Ñ‚ÑŒ/Ğ¾Ğ±Ğ½Ğ¾Ğ²Ğ¸Ñ‚ÑŒ: apps/web/.env.local

DATABASE_URL=postgresql://nexus_dev:dev_password@localhost:5432/nexus_sales_dev
NODE_ENV=development

Ğ¨Ğ°Ğ³ 5: Test Connection
Ğ¡Ğ¾Ğ·Ğ´Ğ°Ñ‚ÑŒ: apps/web/src/lib/__tests__/db.test.ts

import { healthCheck } from '../db';

describe('Database Connection', () => {
  it('should connect to database', async () => {
    const health = await healthCheck();
    expect(health.healthy).toBe(true);
    expect(health.timestamp).toBeDefined();
  });
});

Ğ—Ğ°Ğ¿ÑƒÑÑ‚Ğ¸Ñ‚ÑŒ: npm test src/lib/__tests__/db.test.ts

Deliverable:
âœ… PostgreSQL Ğ·Ğ°Ğ¿ÑƒÑ‰ĞµĞ½
âœ… Database ÑĞ¾Ğ·Ğ´Ğ°Ğ½Ğ°
âœ… Connection pool Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğ°ĞµÑ‚
âœ… Health check Ğ¿Ñ€Ğ¾Ñ…Ğ¾Ğ´Ğ¸Ñ‚
âœ… Commit: feature/backend/fire3-day1-db-setup
```

---

### **LUNCH BREAK (12:30-13:00)**
```
â–¡ ĞĞ±ĞµĞ´!
â–¡ ĞÑ‚Ğ´Ñ‹Ñ…
â–¡ Mid-day sync Ñ Claude Code (5 min)
  - ĞŸĞ¾ĞºĞ°Ğ·Ğ°Ñ‚ÑŒ schema
  - ĞŸĞ¾ĞºĞ°Ğ·Ğ°Ñ‚ÑŒ working connection
  - ĞĞ±ÑÑƒĞ´Ğ¸Ñ‚ÑŒ Ğ±Ğ»Ğ¾ĞºĞµÑ€Ñ‹ (ĞµÑĞ»Ğ¸ ĞµÑÑ‚ÑŒ)
```

---

### **AFTERNOON SESSION (14:00-17:00)**

#### **14:00-15:30: ğŸ”¥ MIGRATIONS FRAMEWORK**
```
Ğ—Ğ°Ğ´Ğ°Ñ‡Ğ°: ĞĞ°ÑÑ‚Ñ€Ğ¾Ğ¸Ñ‚ÑŒ ÑĞ¸ÑÑ‚ĞµĞ¼Ñƒ Ğ¼Ğ¸Ğ³Ñ€Ğ°Ñ†Ğ¸Ğ¹

Ğ¨Ğ°Ğ³ 1: Install node-pg-migrate
cd apps/web
npm install --save node-pg-migrate
npm install --save-dev @types/node-pg-migrate

Ğ¨Ğ°Ğ³ 2: Configure Migrations
Ğ¡Ğ¾Ğ·Ğ´Ğ°Ñ‚ÑŒ: apps/web/package.json (Ğ´Ğ¾Ğ±Ğ°Ğ²Ğ¸Ñ‚ÑŒ scripts)

"scripts": {
  "migrate:create": "node-pg-migrate create -m migrations",
  "migrate:up": "node-pg-migrate up -m migrations",
  "migrate:down": "node-pg-migrate down -m migrations",
  "migrate:status": "node-pg-migrate status -m migrations"
}

Ğ¨Ğ°Ğ³ 3: Create Initial Migration
npm run migrate:create initial-schema

Ğ­Ñ‚Ğ¾ ÑĞ¾Ğ·Ğ´Ğ°ÑÑ‚: migrations/XXXXXX_initial-schema.js

Ğ¨Ğ°Ğ³ 4: Implement Migration
Ğ ĞµĞ´Ğ°ĞºÑ‚Ğ¸Ñ€Ğ¾Ğ²Ğ°Ñ‚ÑŒ: migrations/XXXXXX_initial-schema.js

exports.up = (pgm) => {
  // Create users table
  pgm.createTable('users', {
    id: { type: 'uuid', primaryKey: true, default: pgm.func('gen_random_uuid()') },
    email: { type: 'varchar(255)', notNull: true, unique: true },
    password_hash: { type: 'varchar(255)', notNull: true },
    created_at: { type: 'timestamp', notNull: true, default: pgm.func('current_timestamp') },
    updated_at: { type: 'timestamp', notNull: true, default: pgm.func('current_timestamp') },
  });
  pgm.createIndex('users', 'email');

  // Create products table
  pgm.createTable('products', {
    id: { type: 'uuid', primaryKey: true, default: pgm.func('gen_random_uuid()') },
    user_id: { type: 'uuid', notNull: true, references: 'users', onDelete: 'CASCADE' },
    name: { type: 'varchar(255)', notNull: true },
    description: { type: 'text' },
    price: { type: 'integer', notNull: true, check: 'price >= 0' },
    active: { type: 'boolean', default: true },
    created_at: { type: 'timestamp', notNull: true, default: pgm.func('current_timestamp') },
    updated_at: { type: 'timestamp', notNull: true, default: pgm.func('current_timestamp') },
  });
  pgm.createIndex('products', 'user_id');
  pgm.createIndex('products', 'active');

  // Create orders table
  pgm.createTable('orders', {
    id: { type: 'uuid', primaryKey: true, default: pgm.func('gen_random_uuid()') },
    product_id: { type: 'uuid', notNull: true, references: 'products' },
    email: { type: 'varchar(255)', notNull: true },
    name: { type: 'varchar(255)' },
    status: { 
      type: 'varchar(50)', 
      notNull: true,
      check: "status IN ('created', 'processing', 'paid', 'refunded', 'cancelled')"
    },
    amount: { type: 'integer', notNull: true, check: 'amount >= 0' },
    created_at: { type: 'timestamp', notNull: true, default: pgm.func('current_timestamp') },
  });
  pgm.createIndex('orders', 'email');
  pgm.createIndex('orders', 'status');
  pgm.createIndex('orders', 'created_at');

  // Create funnels table
  pgm.createTable('funnels', {
    id: { type: 'uuid', primaryKey: true, default: pgm.func('gen_random_uuid()') },
    user_id: { type: 'uuid', notNull: true, references: 'users', onDelete: 'CASCADE' },
    name: { type: 'varchar(255)', notNull: true },
    config: { type: 'jsonb', notNull: true },
    published: { type: 'boolean', default: false },
    created_at: { type: 'timestamp', notNull: true, default: pgm.func('current_timestamp') },
    updated_at: { type: 'timestamp', notNull: true, default: pgm.func('current_timestamp') },
  });
  pgm.createIndex('funnels', 'user_id');
  pgm.createIndex('funnels', 'published');

  // Create emotions table
  pgm.createTable('emotions', {
    id: { type: 'uuid', primaryKey: true, default: pgm.func('gen_random_uuid()') },
    user_id: { type: 'uuid', references: 'users', onDelete: 'SET NULL' },
    funnel_id: { type: 'uuid', notNull: true, references: 'funnels', onDelete: 'CASCADE' },
    session_id: { type: 'varchar(255)', notNull: true },
    emotion_type: { 
      type: 'varchar(50)', 
      notNull: true,
      check: "emotion_type IN ('joy', 'sadness', 'fear', 'anger', 'surprise', 'disgust', 'neutral')"
    },
    intensity: { type: 'decimal(3,2)', notNull: true, check: 'intensity >= 0 AND intensity <= 1' },
    confidence: { type: 'decimal(3,2)', notNull: true, check: 'confidence >= 0 AND confidence <= 1' },
    context: { type: 'jsonb' },
    created_at: { type: 'timestamp', notNull: true, default: pgm.func('current_timestamp') },
  });
  pgm.createIndex('emotions', 'funnel_id');
  pgm.createIndex('emotions', 'session_id');
  pgm.createIndex('emotions', 'created_at');
  pgm.createIndex('emotions', 'emotion_type');
};

exports.down = (pgm) => {
  pgm.dropTable('emotions');
  pgm.dropTable('funnels');
  pgm.dropTable('orders');
  pgm.dropTable('products');
  pgm.dropTable('users');
};

Ğ¨Ğ°Ğ³ 5: Run Migration UP
npm run migrate:up

ĞŸÑ€Ğ¾Ğ²ĞµÑ€Ğ¸Ñ‚ÑŒ Ğ² psql:
psql -U nexus_dev -d nexus_sales_dev
\dt          -- Ğ¿Ğ¾ĞºĞ°Ğ·Ğ°Ñ‚ÑŒ Ğ²ÑĞµ Ñ‚Ğ°Ğ±Ğ»Ğ¸Ñ†Ñ‹
\d users     -- Ğ¿Ğ¾ĞºĞ°Ğ·Ğ°Ñ‚ÑŒ ÑÑ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ñƒ users
\q

Ğ¨Ğ°Ğ³ 6: Test Rollback
npm run migrate:down
npm run migrate:up

Deliverable:
âœ… Migrations framework Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğ°ĞµÑ‚
âœ… Migration UP ÑĞ¾Ğ·Ğ´Ğ°Ñ‘Ñ‚ Ğ²ÑĞµ Ñ‚Ğ°Ğ±Ğ»Ğ¸Ñ†Ñ‹
âœ… Migration DOWN ÑƒĞ´Ğ°Ğ»ÑĞµÑ‚ Ğ²ÑĞµ Ñ‚Ğ°Ğ±Ğ»Ğ¸Ñ†Ñ‹
âœ… ĞœĞ¾Ğ¶Ğ½Ğ¾ Ğ¿Ğ¾Ğ²Ñ‚Ğ¾Ñ€Ğ¸Ñ‚ÑŒ UP/DOWN Ğ½ĞµÑĞºĞ¾Ğ»ÑŒĞºĞ¾ Ñ€Ğ°Ğ·
âœ… Commit: feature/backend/fire3-day1-migrations
```

#### **15:30-17:00: ğŸ”¥ SEED DATA & TESTING**
```
Ğ—Ğ°Ğ´Ğ°Ñ‡Ğ°: Ğ¡Ğ¾Ğ·Ğ´Ğ°Ñ‚ÑŒ seed data Ğ´Ğ»Ñ Ñ‚ĞµÑÑ‚Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ

Ğ¨Ğ°Ğ³ 1: Create Seed Migration
npm run migrate:create seed-initial-data

Ğ¨Ğ°Ğ³ 2: Implement Seed
Ğ ĞµĞ´Ğ°ĞºÑ‚Ğ¸Ñ€Ğ¾Ğ²Ğ°Ñ‚ÑŒ: migrations/XXXXXX_seed-initial-data.js

import bcrypt from 'bcrypt';

const SALT_ROUNDS = 10;

exports.up = async (pgm) => {
  // Seed user
  const passwordHash = await bcrypt.hash('password123', SALT_ROUNDS);
  
  pgm.sql(`
    INSERT INTO users (id, email, password_hash, created_at, updated_at)
    VALUES (
      'a0eebc99-9c0b-4ef8-bb6d-6bb9bd380a11',
      'test@test.com',
      '${passwordHash}',
      NOW(),
      NOW()
    );
  `);

  // Seed products
  pgm.sql(`
    INSERT INTO products (id, user_id, name, description, price, active, created_at, updated_at)
    VALUES 
      (
        'b0eebc99-9c0b-4ef8-bb6d-6bb9bd380a11',
        'a0eebc99-9c0b-4ef8-bb6d-6bb9bd380a11',
        'My First Awesome Course',
        'This is the best course ever.',
        4999,
        true,
        NOW(),
        NOW()
      ),
      (
        'c0eebc99-9c0b-4ef8-bb6d-6bb9bd380a11',
        'a0eebc99-9c0b-4ef8-bb6d-6bb9bd380a11',
        'My Second Product',
        'Another great offering.',
        9999,
        true,
        NOW(),
        NOW()
      );
  `);
};

exports.down = (pgm) => {
  pgm.sql('DELETE FROM products;');
  pgm.sql('DELETE FROM users;');
};

Ğ¨Ğ°Ğ³ 3: Run Seeds
npm run migrate:up

Ğ¨Ğ°Ğ³ 4: Verify Data
psql -U nexus_dev -d nexus_sales_dev
SELECT * FROM users;
SELECT * FROM products;
\q

Ğ¨Ğ°Ğ³ 5: Create Verification Script
Ğ¡Ğ¾Ğ·Ğ´Ğ°Ñ‚ÑŒ: apps/web/scripts/verify-db.ts

import { query } from '../src/lib/db';

async function verify() {
  console.log('ğŸ” Verifying database setup...\n');

  // Check users
  const users = await query('SELECT id, email, created_at FROM users');
  console.log(`âœ… Users: ${users.rows.length} found`);
  users.rows.forEach(u => console.log(`   - ${u.email}`));

  // Check products
  const products = await query('SELECT id, name, price FROM products');
  console.log(`\nâœ… Products: ${products.rows.length} found`);
  products.rows.forEach(p => console.log(`   - ${p.name} ($${p.price / 100})`));

  // Check tables
  const tables = await query(`
    SELECT tablename FROM pg_tables 
    WHERE schemaname = 'public'
    ORDER BY tablename
  `);
  console.log(`\nâœ… Tables: ${tables.rows.length} created`);
  tables.rows.forEach(t => console.log(`   - ${t.tablename}`));

  console.log('\nğŸ‰ Database setup verified!\n');
  process.exit(0);
}

verify().catch(err => {
  console.error('âŒ Verification failed:', err);
  process.exit(1);
});

Ğ—Ğ°Ğ¿ÑƒÑÑ‚Ğ¸Ñ‚ÑŒ: npx tsx apps/web/scripts/verify-db.ts

Deliverable:
âœ… Seed data loaded
âœ… Test user exists (test@test.com)
âœ… Test products exist
âœ… Verification script passes
âœ… Commit: feature/backend/fire3-day1-seeds
```

---

### **END OF DAY (17:00-17:30)**

#### **17:00-17:30: ğŸ”¥ DOCUMENTATION & EOD REPORT**
```
Ğ—Ğ°Ğ´Ğ°Ñ‡Ğ°: Ğ”Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚Ğ¸Ñ€Ğ¾Ğ²Ğ°Ñ‚ÑŒ Ğ²ÑÑ‘ Ğ¸ Ğ¾Ñ‚Ñ‡Ğ¸Ñ‚Ğ°Ñ‚ÑŒÑÑ

Ğ¨Ğ°Ğ³ 1: Create Setup Documentation
Ğ¡Ğ¾Ğ·Ğ´Ğ°Ñ‚ÑŒ: docs/database-setup.md

# Database Setup Guide

## Prerequisites
- PostgreSQL 14+ installed
- Node.js 18+

## Setup Steps

1. Install dependencies:
   ```bash
   npm install pg node-pg-migrate bcrypt
   ```

2. Create database:
   ```bash
   psql -U postgres
   CREATE DATABASE nexus_sales_dev;
   ```

3. Configure environment:
   ```bash
   cp .env.example .env.local
   # Edit DATABASE_URL
   ```

4. Run migrations:
   ```bash
   npm run migrate:up
   ```

5. Verify:
   ```bash
   npx tsx scripts/verify-db.ts
   ```

## Schema

[Ğ¡ÑÑ‹Ğ»ĞºĞ° Ğ½Ğ° database-schema.md]

## Troubleshooting

[Ğ¢Ğ¸Ğ¿Ğ¸Ñ‡Ğ½Ñ‹Ğµ Ğ¿Ñ€Ğ¾Ğ±Ğ»ĞµĞ¼Ñ‹ Ğ¸ Ñ€ĞµÑˆĞµĞ½Ğ¸Ñ]

Ğ¨Ğ°Ğ³ 2: Update Main README
ĞĞ±Ğ½Ğ¾Ğ²Ğ¸Ñ‚ÑŒ: apps/web/README.md
- Ğ”Ğ¾Ğ±Ğ°Ğ²Ğ¸Ñ‚ÑŒ database setup ÑĞµĞºÑ†Ğ¸Ñ
- Ğ¡ÑÑ‹Ğ»ĞºĞ° Ğ½Ğ° docs/database-setup.md

Ğ¨Ğ°Ğ³ 3: Create PR
git add .
git commit -m "feat(backend): Day 1 - Database foundation complete

- PostgreSQL setup with connection pool
- 5 tables: users, products, orders, funnels, emotions
- Migration framework with node-pg-migrate
- Seed data for testing
- Verification scripts
- Complete documentation

Blocks: None
Enables: Frontend (Day 2), AI/ML (Day 3), QA (Day 4)
"
git push origin feature/backend/fire3-day1-complete

Ğ¨Ğ°Ğ³ 4: Create EOD Report
Post Ğ² #track-a-features:

ğŸ‰ GPT-5 Codex - Day 1 COMPLETE!

âœ… DELIVERABLES:
- Database schema designed (5 tables)
- PostgreSQL running locally
- Connection pool configured
- Migrations framework working (UP/DOWN tested)
- Seed data loaded (test user + products)
- Verification scripts passing
- Documentation complete

ğŸ“Š STATS:
- Tables: 5
- Indexes: 12
- Seed records: 3
- Tests: All passing
- Time: On schedule

ğŸš€ TOMORROW:
- API migration starts
- Team can work in parallel
- No blockers identified

ğŸ’ª READY FOR DAY 2!

Deliverable:
âœ… Documentation complete
âœ… PR created and ready for review
âœ… EOD report posted
âœ… Team briefed for Day 2
âœ… You're a legend! ğŸ†
```

---

## ğŸ“ **COMMUNICATION**

### **During the Day:**
```
11:00 - Progress update Ğ² #track-a-features
       "Schema design done âœ…, PostgreSQL setup in progress"

13:00 - Mid-day sync
       Quick call Ñ Claude Code (5 min)
       Show progress, discuss blockers

15:00 - Afternoon update Ğ² #track-a-features
       "Migrations working âœ…, seed data in progress"

17:00 - EOD report
       Full summary Ğ² #track-a-features
       Demo to team (optional)
```

### **Questions:**
```
Ğ›ÑĞ±Ñ‹Ğµ Ğ²Ğ¾Ğ¿Ñ€Ğ¾ÑÑ‹ â†’ @Claude-Code Ğ² Slack
Ğ¢ĞµÑ…Ğ½Ğ¸Ñ‡ĞµÑĞºĞ¸Ğµ Ğ¿Ñ€Ğ¾Ğ±Ğ»ĞµĞ¼Ñ‹ â†’ #tech-lead channel
Ğ—Ğ°ÑÑ‚Ñ€ÑĞ»Ğ¸? â†’ Immediate Ğ¿Ğ¾Ğ¼Ğ¾Ñ‰ÑŒ available!
```

---

## âœ… **CHECKLIST - END OF DAY 1**

```
SCHEMA DESIGN:
â–¡ database-schema.md created
â–¡ All 5 tables documented
â–¡ Relationships explained
â–¡ Reviewed by Claude Code

POSTGRESQL:
â–¡ PostgreSQL installed/running
â–¡ Database created (nexus_sales_dev)
â–¡ Connection pool working
â–¡ Health check passing
â–¡ .env.local configured

MIGRATIONS:
â–¡ node-pg-migrate installed
â–¡ Initial migration created
â–¡ Migration UP works (creates tables)
â–¡ Migration DOWN works (drops tables)
â–¡ Can repeat UP/DOWN multiple times

SEED DATA:
â–¡ Seed migration created
â–¡ Test user seeded (test@test.com)
â–¡ Test products seeded (2 products)
â–¡ Verification script passes
â–¡ Can query data from psql

DOCUMENTATION:
â–¡ database-schema.md complete
â–¡ database-setup.md complete
â–¡ README.md updated
â–¡ Comments in code
â–¡ Migration docs clear

GIT:
â–¡ All changes committed
â–¡ PR created
â–¡ Ready for review
â–¡ No merge conflicts

COMMUNICATION:
â–¡ Progress updates posted
â–¡ EOD report complete
â–¡ Team briefed for Day 2
â–¡ No blockers identified
```

---

## ğŸ¯ **SUCCESS CRITERIA**

**You succeed if:**
```
âœ… PostgreSQL is running
âœ… All 5 tables exist with correct structure
âœ… Migration UP/DOWN works perfectly
âœ… Seed data is loaded
âœ… Verification scripts pass
âœ… Documentation is clear
âœ… PR is ready for review
âœ… No critical blockers for Day 2
```

**It's OK if:**
```
âš ï¸ Some minor improvements needed (we'll iterate)
âš ï¸ Questions came up (that's learning!)
âš ï¸ Took slightly longer than planned (quality > speed)
```

**NOT OK if:**
```
âŒ Database doesn't work at all
âŒ Migrations broken
âŒ No documentation
âŒ Major blockers for Day 2

(But don't worry, Claude Code Ğ±ÑƒĞ´ĞµÑ‚ Ğ¿Ğ¾Ğ¼Ğ¾Ğ³Ğ°Ñ‚ÑŒ!)
```

---

## ğŸ’¡ **TIPS FOR SUCCESS**

```
1. ğŸ“– Read everything first, then start
2. ğŸ¯ One task at a time (don't multitask)
3. âœ… Test after each step
4. ğŸ’¬ Ask questions early (don't wait!)
5. ğŸ“ Document as you go (not at end)
6. ğŸ”„ Commit often (small commits)
7. ğŸ§ª Verify everything works
8. ğŸ‰ Celebrate small wins!
```

---

## ğŸš¨ **IF YOU GET STUCK**

```
PROBLEM: PostgreSQL won't start
SOLUTION: 
- Check if already running: ps aux | grep postgres
- Try Docker instead: docker run postgres
- Ask Claude Code for help

PROBLEM: Migrations fail
SOLUTION:
- Check DATABASE_URL is correct
- Check PostgreSQL is running
- Check database exists
- Share error with Claude Code

PROBLEM: Can't connect to database
SOLUTION:
- Verify DATABASE_URL format
- Check firewall (port 5432)
- Try localhost vs 127.0.0.1
- Test with psql first

PROBLEM: Don't understand something
SOLUTION:
- Re-read briefing section
- Google the concept
- Ask in #track-a-features
- @Claude-Code for help

REMEMBER: Asking is faster than being stuck!
```

---

## ğŸ‰ **YOU GOT THIS!**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                â”‚
â”‚  ğŸŸ£ GPT-5 Codex - YOU'RE THE FOUNDATION!      â”‚
â”‚                                                â”‚
â”‚  Mission: Build perfect database              â”‚
â”‚  Impact: Enable entire team                   â”‚
â”‚  Pressure: None, we support you!              â”‚
â”‚  Timeline: 1 day (you have time)              â”‚
â”‚                                                â”‚
â”‚  "Great products start with solid data"       â”‚
â”‚                                                â”‚
â”‚  The team believes in you! ğŸ’ª                 â”‚
â”‚  Claude Code has your back! ğŸ›¡ï¸                â”‚
â”‚                                                â”‚
â”‚  LET'S BUILD SOMETHING LEGENDARY! ğŸš€          â”‚
â”‚                                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“š **RESOURCES**

```
Documentation:
- REAL_AGENTS_ASSIGNMENT.md - Your role overview
- AGENTS_BRIEFING_V2_METHODOLOGY.md - Full methodology
- FIRST_AGENT_STRATEGY.md - Why you're first

Code:
- apps/web/src/app/api/auth/lib/db.ts - Current In-Memory DB
- apps/web/src/lib/db.ts - You'll create this

External:
- PostgreSQL docs: https://www.postgresql.org/docs/
- node-pg-migrate: https://github.com/salsita/node-pg-migrate
- pg (node-postgres): https://node-postgres.com/

Team:
- Claude Code (Tech Lead) - Always available
- #track-a-features - Your channel
- #tech-lead - Escalation channel
```

---

**START TIME:** Tomorrow 09:00 CET  
**END TIME:** Tomorrow 17:30 CET  
**COORDINATOR:** Claude Code  
**STATUS:** ğŸš€ READY TO LAUNCH!

---

*"The foundation determines the height of the building. Let's build it solid!"*

**GO MAKE MAGIC! ğŸ”¥ğŸ’ªğŸš€**

---

*Prepared by: Claude Code (Tech Lead)*  
*For: GPT-5 Codex (Backend Developer)*  
*Date: 2025-09-29*  
*Fire: 3 - Day 1*
